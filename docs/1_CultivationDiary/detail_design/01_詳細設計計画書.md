# 詳細設計計画書

## 1. 目的
本ドキュメントは「CultivationDiary」アプリの詳細設計工程における方針・進め方・成果物の構成を明確にし、設計品質と開発効率の向上を目的とします。

## 2. 詳細設計の範囲
- フロントエンド（Next.js/React/TypeScript/Tailwind CSS）
- バックエンドAPI連携（REST設計、認証・認可、画像アップロード等）
    - 技術スタック概要：Python（FastAPI）、RDB（PostgreSQLまたはMySQL）、画像ストレージ（S3等）、ORM（SQLAlchemy）、JWT/OAuth認証、Dockerコンテナ化・クラウド運用を基本方針とする。既存センサーデータ連携や将来的なAI連携も考慮。
    - 選定理由：
        - 既存プロジェクト（センサーデータ受信サーバー等）でPython・FastAPIの実績があり、チーム知見・運用ノウハウを活かせるため。
        - FastAPIは高パフォーマンス・非同期処理・型安全・OpenAPI自動生成などAPI開発に最適であり、フロントエンド（Next.js/React）との連携も容易なため。
        - PythonはAI/機械学習分野との親和性が高く、将来的な拡張やセンサーデータ・画像処理連携にも柔軟に対応できるため。
        - RDB＋クラウドストレージ構成により、構造化データと大容量画像の両立が容易であり、運用・拡張性にも優れるため。
        - JWT/OAuthによるセキュアな認証・認可が実現可能であり、今後の外部サービス連携にも対応しやすいため。
        - Docker等によるコンテナ化・クラウド運用で、開発・テスト・本番の環境統一やスケーラビリティ確保が容易なため。
- 主要エンティティ（作物、栽培記録、画像、通知、ユーザー等）
- 画面・UI設計（ワイヤーフレーム・画面遷移図・状態遷移図を参照）
- バリデーション・エラーハンドリング・アクセシビリティ
- テスト設計（単体・結合・E2E）

## 3. 設計方針
- 基本設計・ワイヤーフレーム・画面遷移図・状態遷移図・テスト計画書を根拠とする
- ユーザー体験・アクセシビリティ・保守性・拡張性を重視
- 画面単位・機能単位で設計ドキュメントを分割
- API仕様・データモデルは設計資料に準拠
- テスト容易性・自動化を考慮

## 4. 成果物構成
- 01_詳細設計計画書.md（本書）
- 02_画面詳細設計_ダッシュボード.md
- 03_画面詳細設計_栽培記録タイムライン.md
- 04_画面詳細設計_記録フォーム.md
- 05_画面詳細設計_作物管理.md
- 06_画面詳細設計_マイページ.md
- 07_画面詳細設計_設定.md
- 08_画面詳細設計_サポート.md
- 09_API詳細設計.md
- 10_データモデル詳細設計.md
- 11_バリデーション・エラー設計.md
- 12_アクセシビリティ設計.md
- 13_テスト設計.md
- 99_その他・拡張設計.md

## 5. 進め方・レビュー
- 画面・機能ごとに詳細設計ドキュメントを作成
- 設計レビューを随時実施し、フィードバックを反映
- 設計変更時は履歴・理由を明記

## 6. 参照資料
- basic_design配下の各種設計資料
- 画面遷移図・状態遷移図
- テスト計画書

---
必要に応じて本書を更新してください。
