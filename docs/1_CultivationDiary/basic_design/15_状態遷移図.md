# 状態遷移図

本ドキュメントは「CultivationDiary」アプリの主要なデータ・エンティティの状態遷移を示します。

## 栽培記録（Event）状態遷移

```mermaid
stateDiagram-v2
    [*] --> 新規作成中
    新規作成中 --> 登録済み: 登録
    新規作成中 --> 画像アップロード待ち: 画像選択
    画像アップロード待ち --> 画像アップロード済み: 画像アップロード
    画像アップロード済み --> 登録済み: 記録保存
    登録済み --> 編集中: 編集開始
    編集中 --> 登録済み: 保存
    登録済み --> 削除済み: 削除
    編集中 --> 削除済み: 削除
    登録済み --> 通知送信済み: 通知送信
    通知送信済み --> [*]
    登録済み --> [*]
    削除済み --> [*]
```

- 「新規作成中」…入力フォームで作成中の状態
- 「画像アップロード待ち」…画像選択後、アップロード前の状態
- 「画像アップロード済み」…画像がアップロードされた状態
- 「登録済み」…DB等に保存されている通常状態
- 「編集中」…既存記録を編集している状態
- 「通知送信済み」…リマインダー等の通知が送信された状態
- 「削除済み」…削除操作後の状態（論理削除・物理削除は実装方針による）

## 作物（Crop）状態遷移

```mermaid
stateDiagram-v2
    [*] --> 新規作成中
    新規作成中 --> 登録済み: 登録
    登録済み --> 編集中: 編集開始
    編集中 --> 登録済み: 保存
    登録済み --> 削除済み: 削除
    編集中 --> 削除済み: 削除
    登録済み --> [*]
    削除済み --> [*]
```

## 画像（Image）状態遷移

```mermaid
stateDiagram-v2
    [*] --> アップロード待ち
    アップロード待ち --> アップロード済み: アップロード
    アップロード済み --> 削除済み: 削除
    アップロード済み --> [*]
    削除済み --> [*]
```

## 通知（Notification）状態遷移

```mermaid
stateDiagram-v2
    [*] --> 作成
    作成 --> 送信済み: 送信
    送信済み --> 既読: ユーザーが確認
    送信済み --> 削除済み: 削除
    既読 --> 削除済み: 削除
    既読 --> [*]
    削除済み --> [*]
```

- 必要に応じて他エンティティも追記してください。
